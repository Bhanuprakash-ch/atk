<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8">
    
    <title>Frame label_propagation &mdash; Trusted Analytics Package 0.4.0 documentation</title>
    
    <link rel="stylesheet" type="text/css" href="../../../f_static/css/spc-bootstrap.css">
    <link rel="stylesheet" type="text/css" href="../../../f_static/css/spc-extend.css">
    <link rel="stylesheet" href="../../../f_static/scipy.css" type="text/css" >
    <link rel="stylesheet" href="../../../f_static/pygments.css" type="text/css" >
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '0.4.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../f_static/jquery.js"></script>
    <script type="text/javascript" src="../../../f_static/underscore.js"></script>
    <script type="text/javascript" src="../../../f_static/doctools.js"></script>
    <script type="text/javascript" src="../../../f_static/js/copybutton.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" >
    <link rel="top" title="Trusted Analytics Package 0.4.0 documentation" href="../../../index.html" >
    <link rel="up" title="Frames Frame" href="index.html" >
    <link rel="next" title="Frame loadhbase" href="loadhbase.html" >
    <link rel="prev" title="Frame join" href="join.html" > 
  </head>
  <body>

  <div class="container">
    <div class="header">
    </div>
  </div>


    <div class="container">
      <div class="main">
        
	<div class="row-fluid">
	  <div class="span12">
	    <div class="spc-navbar">
              
    <ul class="nav nav-pills pull-left">
	
        <li class="active"><a href="../../../index.html">Trusted Analytics</a></li>
	
          <li class="active"><a href="../../index.html" >Python API</a></li>
          <li class="active"><a href="../index.html" >Frames</a></li>
          <li class="active"><a href="index.html" accesskey="U"><code class="docutils literal"><span class="pre">Frames</span></code> Frame</a></li> 
    </ul>
              
              
    <ul class="nav nav-pills pull-right">
      <li class="active">
        <a href="join.html" title="Frame join"
           accesskey="P">previous</a>
      </li>
      <li class="active">
        <a href="loadhbase.html" title="Frame loadhbase"
           accesskey="N">next</a>
      </li>
      <li class="active">
        <a href="../../../genindex.html" title="General Index"
           accesskey="I">index</a>
      </li>
    </ul>
              
	    </div>
	  </div>
	</div>
        

	<div class="row-fluid">
      <div class="spc-rightsidebar span3">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
<h3><a href="../../../index.html">Table Of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../intro.html">Technical Summary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ds_over.html">User Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dev_over.html">Extending Trusted Analytics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ad_over.html">Deploy and Run ATK App on DP2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Python API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../rest_api/v1/index.html">REST API</a></li>
</ul>
<ul class="simple">
</ul>

        </div>
      </div>
          <div class="span9">
            
        <div class="bodywrapper">
          <div class="body" id="spc-section-body">
            
  <div class="section" id="frame-label-propagation">
<span id="python-api-frames-frame-label-propagation"></span><h1><a class="reference internal" href="index.html"><em>Frame</em></a>  label_propagation<a class="headerlink" href="#frame-label-propagation" title="Permalink to this headline">¶</a></h1>
<hr class="docutils" />
<dl class="function">
<dt id="label_propagation">
<code class="descname">label_propagation</code><span class="sig-paren">(</span><em>self</em>, <em>src_col_name</em>, <em>dest_col_name</em>, <em>weight_col_name</em>, <em>src_label_col_name</em>, <em>result_col_name=None</em>, <em>max_iterations=None</em>, <em>convergence_threshold=None</em>, <em>alpha=None</em><span class="sig-paren">)</span><a class="headerlink" href="#label_propagation" title="Permalink to this definition">¶</a></dt>
<dd><p>Label Propagation on Gaussian Random Fields.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>src_col_name</strong> : unicode</p>
<blockquote>
<div><p>The column name for the
source vertex id.</p>
</div></blockquote>
<p><strong>dest_col_name</strong> : unicode</p>
<blockquote>
<div><p>The column name for the
destination vertex id.</p>
</div></blockquote>
<p><strong>weight_col_name</strong> : unicode</p>
<blockquote>
<div><p>The column name for the
edge weight.</p>
</div></blockquote>
<p><strong>src_label_col_name</strong> : unicode</p>
<blockquote>
<div><p>The column name for the
label properties for the source vertex.</p>
</div></blockquote>
<p><strong>result_col_name</strong> : unicode (default=None)</p>
<blockquote>
<div><p>The column name for the
results (holding the post labels for the vertices).</p>
</div></blockquote>
<p><strong>max_iterations</strong> : int32 (default=None)</p>
<blockquote>
<div><p>The maximum number of supersteps
that the algorithm will execute.
The valid value range is all positive int.
Default is 10.</p>
</div></blockquote>
<p><strong>convergence_threshold</strong> : float32 (default=None)</p>
<blockquote>
<div><p>The amount of change in
cost function that will be tolerated at convergence.
If the change is less than this threshold, the algorithm exits earlier
before it reaches the maximum number of supersteps.
The valid value range is all float and zero.
Default is 0.00000001f.</p>
</div></blockquote>
<p><strong>alpha</strong> : float32 (default=None)</p>
<blockquote>
<div><p>The tradeoff parameter that
controls how much influence an external
classifier&#8217;s prediction contributes to the final prediction.
This is for the case where an external classifier is available that can
produce initial probabilistic classification on unlabeled examples, and
the option allows incorporating external classifier&#8217;s prediction into
the LP training process.
The valid value range is [0.0,1.0].
Default is 0.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">: dict</p>
<blockquote class="last">
<div><p>A 2-column frame:</p>
<dl class="docutils">
<dt>vertex: int</dt>
<dd><p class="first last">A vertex id.</p>
</dd>
<dt>result <span class="classifier-delimiter">:</span> <span class="classifier">Vector (long)</span></dt>
<dd><p class="first last">label vector for the results (for the node id in column 1)</p>
</dd>
</dl>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p>Label Propagation on Gaussian Random Fields.</p>
<p>This algorithm is presented in <a class="reference external" href="http://www.cs.cmu.edu/~zhuxj/pub/CMU-CALD-02-107.pdf">X. Zhu and Z. Ghahramani.
Learning from labeled and unlabeled data with label propagation.
Technical Report CMU-CALD-02-107, CMU, 2002</a>.</p>
<p><strong>Label Propagation (LP)</strong></p>
<p><abbr title="Label Proopagation">LP</abbr> is a message passing technique for inputing or
<a class="reference internal" href="../../../glossary.html#term-smoothing"><span class="xref std std-term">smoothing</span></a> labels in partially-labelled datasets.
Labels are propagated from <em>labeled</em> data to <em>unlabeled</em> data along a graph
encoding similarity relationships among data points.
The labels of known data can be probabilistic, in other words, a known point
can be represented with fuzzy labels such as 90% label 0 and 10% label 1.
The inverse distance between data points is represented by edge weights, with
closer points having a higher weight (stronger influence
on posterior estimates) than points farther away.
<abbr title="Label Proopagation">LP</abbr> has been used for many problems, particularly those involving a similarity
measure between data points.
Our implementation is based on Zhu and Ghahramani&#8217;s 2002 paper,
<a class="reference external" href="http://www.cs.cmu.edu/~zhuxj/pub/CMU-CALD-02-107.pdf">Learning from labeled and unlabeled data.</a>.</p>
<p><strong>The Label Propagation Algorithm</strong></p>
<p>In <abbr title="Label Proopagation">LP</abbr>, all nodes start with a prior distribution of states and the initial
messages vertices pass to their neighbors are simply their prior beliefs.
If certain observations have states that are known deterministically, they can
be given a prior probability of 100% for their true state and 0% for all others.
Unknown observations should be given uninformative priors.</p>
<p>Each node, <div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">i</tt>)</p>
latex exited with error
[stdout]
This is TeX, Version 3.1415926 (TeX Live 2013/Debian)
(./math.tex
! Undefined control sequence.
l.2 \documentclass
                  [12pt]{article}
! Undefined control sequence.
l.3 \usepackage
               [utf8x]{inputenc}
! Undefined control sequence.
l.4 \usepackage
               {amsmath}
! Undefined control sequence.
l.5 \usepackage
               {amsthm}
! Undefined control sequence.
l.6 \usepackage
               {amssymb}
! Undefined control sequence.
l.7 \usepackage
               {amsfonts}
! Undefined control sequence.
l.8 \usepackage
               {bm}
! Undefined control sequence.
l.9 \pagestyle
              {empty}
! Undefined control sequence.
l.11 \begin
           {document}
[1] )
(see the transcript file for additional information)
Output written on math.dvi (1 page, 360 bytes).
Transcript written on math.log.
</div>
, receives messages from its <div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">k</tt>)</p>
latex exited with error
[stdout]
This is TeX, Version 3.1415926 (TeX Live 2013/Debian)
(./math.tex
! Undefined control sequence.
l.2 \documentclass
                  [12pt]{article}
! Undefined control sequence.
l.3 \usepackage
               [utf8x]{inputenc}
! Undefined control sequence.
l.4 \usepackage
               {amsmath}
! Undefined control sequence.
l.5 \usepackage
               {amsthm}
! Undefined control sequence.
l.6 \usepackage
               {amssymb}
! Undefined control sequence.
l.7 \usepackage
               {amsfonts}
! Undefined control sequence.
l.8 \usepackage
               {bm}
! Undefined control sequence.
l.9 \pagestyle
              {empty}
! Undefined control sequence.
l.11 \begin
           {document}
[1] )
(see the transcript file for additional information)
Output written on math.dvi (1 page, 360 bytes).
Transcript written on math.log.
</div>
 neighbors and
updates its beliefs by taking a weighted average of its current beliefs
and a weighted average of the messages received from its neighbors.</p>
<p>The updated beliefs for node <div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">i</tt>)</p>
latex exited with error
[stdout]
This is TeX, Version 3.1415926 (TeX Live 2013/Debian)
(./math.tex
! Undefined control sequence.
l.2 \documentclass
                  [12pt]{article}
! Undefined control sequence.
l.3 \usepackage
               [utf8x]{inputenc}
! Undefined control sequence.
l.4 \usepackage
               {amsmath}
! Undefined control sequence.
l.5 \usepackage
               {amsthm}
! Undefined control sequence.
l.6 \usepackage
               {amssymb}
! Undefined control sequence.
l.7 \usepackage
               {amsfonts}
! Undefined control sequence.
l.8 \usepackage
               {bm}
! Undefined control sequence.
l.9 \pagestyle
              {empty}
! Undefined control sequence.
l.11 \begin
           {document}
[1] )
(see the transcript file for additional information)
Output written on math.dvi (1 page, 360 bytes).
Transcript written on math.log.
</div>
 are:</p>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">updated\ beliefs_{i} = \lambda * (prior\ belief_{i} ) + (1 - \lambda ) \
* \sum_k w_{i,k} * previous\ belief_{k}</tt>)</p>
latex exited with error
[stdout]
This is TeX, Version 3.1415926 (TeX Live 2013/Debian)
(./math.tex
! Undefined control sequence.
l.2 \documentclass
                  [12pt]{article}
! Undefined control sequence.
l.3 \usepackage
               [utf8x]{inputenc}
! Undefined control sequence.
l.4 \usepackage
               {amsmath}
! Undefined control sequence.
l.5 \usepackage
               {amsthm}
! Undefined control sequence.
l.6 \usepackage
               {amssymb}
! Undefined control sequence.
l.7 \usepackage
               {amsfonts}
! Undefined control sequence.
l.8 \usepackage
               {bm}
! Undefined control sequence.
l.9 \pagestyle
              {empty}
! Undefined control sequence.
l.11 \begin
           {document}
! Undefined control sequence.
l.12 \begin
           {gather}
! Undefined control sequence.
l.13 \begin
           {split}updated\ beliefs_{i} = \lambda * (prior\ belief_{i} ) + (1...

! Missing $ inserted.
&lt;inserted text&gt; 
                $
&lt;to be read again&gt; 
                   _
l.13 \begin{split}updated\ beliefs_
                                   {i} = \lambda * (prior\ belief_{i} ) + (1...

! Missing $ inserted.
&lt;inserted text&gt; 
                $
&lt;to be read again&gt; 
                   \end 
l.14 * \sum_k w_{i,k} * previous\ belief_{k}\end
                                                {split}\notag
[1] )
(see the transcript file for additional information)
Output written on math.dvi (1 page, 676 bytes).
Transcript written on math.log.
</div>
<p>where <div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">w_{i,k}</tt>)</p>
latex exited with error
[stdout]
This is TeX, Version 3.1415926 (TeX Live 2013/Debian)
(./math.tex
! Undefined control sequence.
l.2 \documentclass
                  [12pt]{article}
! Undefined control sequence.
l.3 \usepackage
               [utf8x]{inputenc}
! Undefined control sequence.
l.4 \usepackage
               {amsmath}
! Undefined control sequence.
l.5 \usepackage
               {amsthm}
! Undefined control sequence.
l.6 \usepackage
               {amssymb}
! Undefined control sequence.
l.7 \usepackage
               {amsfonts}
! Undefined control sequence.
l.8 \usepackage
               {bm}
! Undefined control sequence.
l.9 \pagestyle
              {empty}
! Undefined control sequence.
l.11 \begin
           {document}
[1] )
(see the transcript file for additional information)
Output written on math.dvi (1 page, 412 bytes).
Transcript written on math.log.
</div>
 is the normalized weight between nodes <div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">i</tt>)</p>
latex exited with error
[stdout]
This is TeX, Version 3.1415926 (TeX Live 2013/Debian)
(./math.tex
! Undefined control sequence.
l.2 \documentclass
                  [12pt]{article}
! Undefined control sequence.
l.3 \usepackage
               [utf8x]{inputenc}
! Undefined control sequence.
l.4 \usepackage
               {amsmath}
! Undefined control sequence.
l.5 \usepackage
               {amsthm}
! Undefined control sequence.
l.6 \usepackage
               {amssymb}
! Undefined control sequence.
l.7 \usepackage
               {amsfonts}
! Undefined control sequence.
l.8 \usepackage
               {bm}
! Undefined control sequence.
l.9 \pagestyle
              {empty}
! Undefined control sequence.
l.11 \begin
           {document}
[1] )
(see the transcript file for additional information)
Output written on math.dvi (1 page, 360 bytes).
Transcript written on math.log.
</div>
 and
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">k</tt>)</p>
latex exited with error
[stdout]
This is TeX, Version 3.1415926 (TeX Live 2013/Debian)
(./math.tex
! Undefined control sequence.
l.2 \documentclass
                  [12pt]{article}
! Undefined control sequence.
l.3 \usepackage
               [utf8x]{inputenc}
! Undefined control sequence.
l.4 \usepackage
               {amsmath}
! Undefined control sequence.
l.5 \usepackage
               {amsthm}
! Undefined control sequence.
l.6 \usepackage
               {amssymb}
! Undefined control sequence.
l.7 \usepackage
               {amsfonts}
! Undefined control sequence.
l.8 \usepackage
               {bm}
! Undefined control sequence.
l.9 \pagestyle
              {empty}
! Undefined control sequence.
l.11 \begin
           {document}
[1] )
(see the transcript file for additional information)
Output written on math.dvi (1 page, 360 bytes).
Transcript written on math.log.
</div>
, normalized such that the sum of all weights to neighbors is 1.</p>
<p><div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">\lambda</tt>)</p>
latex exited with error
[stdout]
This is TeX, Version 3.1415926 (TeX Live 2013/Debian)
(./math.tex
! Undefined control sequence.
l.2 \documentclass
                  [12pt]{article}
! Undefined control sequence.
l.3 \usepackage
               [utf8x]{inputenc}
! Undefined control sequence.
l.4 \usepackage
               {amsmath}
! Undefined control sequence.
l.5 \usepackage
               {amsthm}
! Undefined control sequence.
l.6 \usepackage
               {amssymb}
! Undefined control sequence.
l.7 \usepackage
               {amsfonts}
! Undefined control sequence.
l.8 \usepackage
               {bm}
! Undefined control sequence.
l.9 \pagestyle
              {empty}
! Undefined control sequence.
l.11 \begin
           {document}
[1] )
(see the transcript file for additional information)
Output written on math.dvi (1 page, 360 bytes).
Transcript written on math.log.
</div>
 is a leaning parameter.
If <div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">\lambda</tt>)</p>
latex exited with error
[stdout]
This is TeX, Version 3.1415926 (TeX Live 2013/Debian)
(./math.tex
! Undefined control sequence.
l.2 \documentclass
                  [12pt]{article}
! Undefined control sequence.
l.3 \usepackage
               [utf8x]{inputenc}
! Undefined control sequence.
l.4 \usepackage
               {amsmath}
! Undefined control sequence.
l.5 \usepackage
               {amsthm}
! Undefined control sequence.
l.6 \usepackage
               {amssymb}
! Undefined control sequence.
l.7 \usepackage
               {amsfonts}
! Undefined control sequence.
l.8 \usepackage
               {bm}
! Undefined control sequence.
l.9 \pagestyle
              {empty}
! Undefined control sequence.
l.11 \begin
           {document}
[1] )
(see the transcript file for additional information)
Output written on math.dvi (1 page, 360 bytes).
Transcript written on math.log.
</div>
 is greater than zero, updated probabilities will be anchored
in the direction of prior beliefs.</p>
<p>The final distribution of state probabilities will also tend to be biased in
the direction of the distribution of initial beliefs.
For the first iteration of updates, nodes&#8217; previous beliefs are equal to the
priors, and, in each future iteration,
previous beliefs are equal to their beliefs as of the last iteration.
All beliefs for every node will be updated in this fashion, including known
observations, unless <code class="docutils literal"><span class="pre">anchor_threshold</span></code> is set.
The <code class="docutils literal"><span class="pre">anchor_threshold</span></code> parameter specifies a probability threshold above
which beliefs should no longer be updated.
Hence, with an <code class="docutils literal"><span class="pre">anchor_threshold</span></code> of 0.99, observations with states known
with 100% certainty will not be updated by this algorithm.</p>
<p>This process of updating and message passing continues until the convergence
criteria is met, or the maximum number of <a class="reference internal" href="../../../glossary.html#term-supersteps"><span class="xref std std-term">supersteps</span></a> is reached.
A node is said to converge if the total change in its cost function is below
the convergence threshold.
The cost function for a node is given by:</p>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">cost =&amp; \sum_k w_{i,k} * \Big[ \big( 1 - \lambda \big) * \big[ previous\ \
belief_{i}^{2} - w_{i,k} * previous\ belief_{i} * \\
&amp; previous\ belief_{k} \big] + 0.5 * \lambda * \big( previous\ belief_{i} \
- prior_{i} \big) ^{2} \Big]</tt>)</p>
latex exited with error
[stdout]
This is TeX, Version 3.1415926 (TeX Live 2013/Debian)
(./math.tex
! Undefined control sequence.
l.2 \documentclass
                  [12pt]{article}
! Undefined control sequence.
l.3 \usepackage
               [utf8x]{inputenc}
! Undefined control sequence.
l.4 \usepackage
               {amsmath}
! Undefined control sequence.
l.5 \usepackage
               {amsthm}
! Undefined control sequence.
l.6 \usepackage
               {amssymb}
! Undefined control sequence.
l.7 \usepackage
               {amsfonts}
! Undefined control sequence.
l.8 \usepackage
               {bm}
! Undefined control sequence.
l.9 \pagestyle
              {empty}
! Undefined control sequence.
l.11 \begin
           {document}
! Undefined control sequence.
l.12 \begin
           {gather}
! Undefined control sequence.
l.13 \begin
           {split}cost =&amp; \sum_k w_{i,k} * \Big[ \big( 1 - \lambda \big) * \...

! Misplaced alignment tab character &amp;.
l.13 \begin{split}cost =&amp;
                          \sum_k w_{i,k} * \Big[ \big( 1 - \lambda \big) * \...

! Missing $ inserted.
&lt;inserted text&gt; 
                $
&lt;to be read again&gt; 
                   \sum 
l.13 \begin{split}cost =&amp; \sum
                              _k w_{i,k} * \Big[ \big( 1 - \lambda \big) * \...

)
Runaway argument?
 &amp; previous\ belief_{k} \big ] + 0.5 * \lambda * \big ( previous\ bel\ETC.
! File ended while scanning use of \\.
&lt;inserted text&gt; 
                \par 
&lt;*&gt; math.tex
            
! Emergency stop.
&lt;*&gt; math.tex
            
No pages of output.
Transcript written on math.log.
</div>
<p>Convergence is a local phenomenon; not all nodes will converge at the same time.
It is also possible that some (most) nodes will converge and others will not converge.
The algorithm requires all nodes to converge before declaring global convergence.
If this condition is not met, the algorithm will continue up to the maximum
number of <a class="reference internal" href="../../../glossary.html#term-supersteps"><span class="xref std std-term">supersteps</span></a>.</p>
</dd></dl>

</div>


          </div>
        </div>
          </div>
        </div>
      </div>
    </div>

    <div class="container container-navbar-bottom">
      <div class="spc-navbar">
        
      </div>
    </div>
    <div class="container">
    <div class="footer">
    <div class="row-fluid">
    <ul class="inline pull-left">
      <li>
        &copy; Copyright 2015, Intel.
      </li>
      <li>
      Last updated on Sep 18, 2015.
      </li>
    </ul>
    </div>
    </div>
    </div>
  </body>
</html>