<!--

     Copyright (c) 2015 Intel Corporation 

     Licensed under the Apache License, Version 2.0 (the "License");
     you may not use this file except in compliance with the License.
     You may obtain a copy of the License at

          http://www.apache.org/licenses/LICENSE-2.0

     Unless required by applicable law or agreed to in writing, software
     distributed under the License is distributed on an "AS IS" BASIS,
     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     See the License for the specific language governing permissions and
     limitations under the License.

-->
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8">
    
    <title>Latent Dirichlet Allocation &mdash; Trusted Analytics Platform 0.6.0 documentation</title>
    
    <link rel="stylesheet" type="text/css" href="R_static/css/spc-bootstrap.css">
    <link rel="stylesheet" type="text/css" href="R_static/css/spc-extend.css">
    <link rel="stylesheet" href="R_static/scipy.css" type="text/css" >
    <link rel="stylesheet" href="R_static/pygments.css" type="text/css" >
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.6.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="R_static/jquery.js"></script>
    <script type="text/javascript" src="R_static/underscore.js"></script>
    <script type="text/javascript" src="R_static/doctools.js"></script>
    <script type="text/javascript" src="R_static/js/copybutton.js"></script>
    <link rel="index" title="Index" href="genindex.html" >
    <link rel="top" title="Trusted Analytics Platform 0.6.0 documentation" href="index.html" >
    <link rel="up" title="Process Flow Examples" href="ds_pflw.html" >
    <link rel="next" title="Graphs" href="ds_graph.html" >
    <link rel="prev" title="Naive Bayes" href="ds_naive_bayes.html" > 
  </head>
  <body>

  <div class="container">
    <div class="header">
    </div>
  </div>


    <div class="container">
      <div class="main">
        
	<div class="row-fluid">
	  <div class="span12">
	    <div class="spc-navbar">
              
    <ul class="nav nav-pills pull-left">
	
        <li class="active"><a href="index.html">Trusted Analytics</a></li>
	
          <li class="active"><a href="ds_over.html" >User Manual</a></li>
          <li class="active"><a href="ds_pflw.html" accesskey="U">Process Flow Examples</a></li> 
    </ul>
              
              
    <ul class="nav nav-pills pull-right">
      <li class="active">
        <a href="ds_naive_bayes.html" title="Naive Bayes"
           accesskey="P">previous</a>
      </li>
      <li class="active">
        <a href="ds_graph.html" title="Graphs"
           accesskey="N">next</a>
      </li>
      <li class="active">
        <a href="genindex.html" title="General Index"
           accesskey="I">index</a>
      </li>
    </ul>
              
	    </div>
	  </div>
	</div>
        

	<div class="row-fluid">
      <div class="spc-rightsidebar span3">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
<h3><a href="index.html">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Technical Summary</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="ds_over.html">User Manual</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="ds_strt.html">Getting Started</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="ds_pflw.html">Process Flow Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="ds_algorithms.html">Algorithms</a></li>
<li class="toctree-l2"><a class="reference internal" href="ds_bkm.html">Best Known Methods (User)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="dev_over.html">Extending Trusted Analytics Platform</a></li>
<li class="toctree-l1"><a class="reference internal" href="ad_over.html">Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="python_api/index.html">Python API</a></li>
<li class="toctree-l1"><a class="reference internal" href="rest_api/v1/index.html">REST API</a></li>
</ul>
<ul class="simple">
</ul>

        </div>
      </div>
          <div class="span9">
            
        <div class="bodywrapper">
          <div class="body" id="spc-section-body">
            
  <div class="section" id="latent-dirichlet-allocation">
<span id="ds-lda"></span><h1>Latent Dirichlet Allocation<a class="headerlink" href="#latent-dirichlet-allocation" title="Permalink to this headline">¶</a></h1>
<p>LDA, short for Latent Dirichlet Allocation, performs topic modeling, which is a form of clustering.
For example, given a number of documents, LDA can group the texts on similar topics together based on whether they contain similar words. LDA is an unsupervised algorithm, meaning that the groups are created based on the similarity to each other, rather than by comparing them to an idealized or standardized dataset.</p>
<div class="section" id="setup">
<h2>Setup<a class="headerlink" href="#setup" title="Permalink to this headline">¶</a></h2>
<p>Establish a connection to the ATK REST Server.
This handle will be used for the remainder of the script.</p>
<p>Get server URL and credentials file from the TAP administrator.</p>
<p>Set the server, and use the credentials to connect to the ATK REST server.</p>
<div class="section" id="workflow">
<h3>Workflow<a class="headerlink" href="#workflow" title="Permalink to this headline">¶</a></h3>
<p>The standard workflow is: build a frame, build a model, train the model on the frame, predict on the model.
Note there is no metrics. Evaluating unsupervised machine learning results can be difficult.</p>
</div>
</div>
<div class="section" id="construct-a-frame">
<h2>Construct a Frame<a class="headerlink" href="#construct-a-frame" title="Permalink to this headline">¶</a></h2>
<p>Construct a frame to be uploaded, this is done using Python lists uploaded to the server.</p>
<p>In this example, there are 3 papers on 2 topics, with 4 words each, which each appear 2 times.</p>
<div class="code highlight-default"><div class="highlight"><pre><span></span><span class="n">rows_frame</span> <span class="o">=</span> <span class="n">ia</span><span class="o">.</span><span class="n">UploadRows</span><span class="p">([[</span><span class="s2">&quot;paper1&quot;</span><span class="p">,</span> <span class="s2">&quot;word11&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
                            <span class="p">[</span><span class="s2">&quot;paper1&quot;</span><span class="p">,</span> <span class="s2">&quot;word12&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
                            <span class="p">[</span><span class="s2">&quot;paper1&quot;</span><span class="p">,</span> <span class="s2">&quot;word13&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
                            <span class="p">[</span><span class="s2">&quot;paper1&quot;</span><span class="p">,</span> <span class="s2">&quot;word14&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>

                            <span class="p">[</span><span class="s2">&quot;paper2&quot;</span><span class="p">,</span> <span class="s2">&quot;word11&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
                            <span class="p">[</span><span class="s2">&quot;paper2&quot;</span><span class="p">,</span> <span class="s2">&quot;word12&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
                            <span class="p">[</span><span class="s2">&quot;paper2&quot;</span><span class="p">,</span> <span class="s2">&quot;word13&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
                            <span class="p">[</span><span class="s2">&quot;paper2&quot;</span><span class="p">,</span> <span class="s2">&quot;word14&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>

                            <span class="p">[</span><span class="s2">&quot;paper3&quot;</span><span class="p">,</span> <span class="s2">&quot;word11&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
                            <span class="p">[</span><span class="s2">&quot;paper3&quot;</span><span class="p">,</span> <span class="s2">&quot;word22&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
                            <span class="p">[</span><span class="s2">&quot;paper3&quot;</span><span class="p">,</span> <span class="s2">&quot;word23&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
                            <span class="p">[</span><span class="s2">&quot;paper3&quot;</span><span class="p">,</span> <span class="s2">&quot;word24&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">]],</span>
                            <span class="p">[(</span><span class="s2">&quot;paper&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">),</span>
                             <span class="p">(</span><span class="s2">&quot;word&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">),</span>
                             <span class="p">(</span><span class="s2">&quot;count&quot;</span><span class="p">,</span> <span class="n">ia</span><span class="o">.</span><span class="n">int32</span><span class="p">)])</span>

<span class="n">frame</span> <span class="o">=</span> <span class="n">ia</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">rows_frame</span><span class="p">)</span>

<span class="nb">print</span> <span class="n">frame</span><span class="o">.</span><span class="n">inspect</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="build-a-model">
<h2>Build a Model<a class="headerlink" href="#build-a-model" title="Permalink to this headline">¶</a></h2>
<div class="code highlight-default"><div class="highlight"><pre><span></span><span class="n">lda_model</span> <span class="o">=</span> <span class="n">ia</span><span class="o">.</span><span class="n">LdaModel</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="train-the-model">
<h2>Train the Model<a class="headerlink" href="#train-the-model" title="Permalink to this headline">¶</a></h2>
<p>This LDA model will be trained using the frame above.</p>
<p>Give the model the papers to train topics on, and words associated with those papers, and the count of words in a paper.
The final argument is the number of topics to search for.</p>
<div class="code highlight-default"><div class="highlight"><pre><span></span><span class="n">lda_model</span><span class="o">.</span><span class="n">train</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="s2">&quot;paper&quot;</span><span class="p">,</span> <span class="s2">&quot;word&quot;</span><span class="p">,</span> <span class="s2">&quot;count&quot;</span><span class="p">,</span> <span class="n">num_topics</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="predict-on-the-model">
<h2>Predict on the Model<a class="headerlink" href="#predict-on-the-model" title="Permalink to this headline">¶</a></h2>
<p>Using the trained model, predict the words of two new papers, and show that they are in different topics. A new paper is a list of words and counts of those words.</p>
<div class="code highlight-default"><div class="highlight"><pre><span></span><span class="n">cluster1</span> <span class="o">=</span> <span class="n">lda_model</span><span class="o">.</span><span class="n">predict</span><span class="p">([</span><span class="s2">&quot;word11&quot;</span><span class="p">,</span> <span class="s2">&quot;word13&quot;</span><span class="p">])</span>
<span class="n">cluster2</span> <span class="o">=</span> <span class="n">lda_model</span><span class="o">.</span><span class="n">predict</span><span class="p">([</span><span class="s2">&quot;word21&quot;</span><span class="p">,</span> <span class="s2">&quot;word23&quot;</span><span class="p">])</span>
<span class="nb">print</span> <span class="n">cluster1</span>
<span class="nb">print</span> <span class="n">cluster2</span>
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
          </div>
        </div>
      </div>
    </div>

    <div class="container container-navbar-bottom">
      <div class="spc-navbar">
        
      </div>
    </div>
    <div class="container">
    <div class="footer">
    <div class="row-fluid">
    <ul class="inline pull-left">
      <li>
        &copy; Copyright 2015, Intel.
      </li>
      <li>
      Last updated on Jun 15, 2016.
      </li>
    </ul>
    </div>
    </div>
    </div>
  </body>
</html>