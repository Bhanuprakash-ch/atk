<!--

     Copyright (c) 2015 Intel Corporation 

     Licensed under the Apache License, Version 2.0 (the "License");
     you may not use this file except in compliance with the License.
     You may obtain a copy of the License at

          http://www.apache.org/licenses/LICENSE-2.0

     Unless required by applicable law or agreed to in writing, software
     distributed under the License is distributed on an "AS IS" BASIS,
     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     See the License for the specific language governing permissions and
     limitations under the License.

-->
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8">
    
    <title>EdgeFrame column_mode &mdash; Trusted Analytics Platform 0.6.0 documentation</title>
    
    <link rel="stylesheet" type="text/css" href="../../../R_static/css/spc-bootstrap.css">
    <link rel="stylesheet" type="text/css" href="../../../R_static/css/spc-extend.css">
    <link rel="stylesheet" href="../../../R_static/scipy.css" type="text/css" >
    <link rel="stylesheet" href="../../../R_static/pygments.css" type="text/css" >
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '0.6.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../R_static/jquery.js"></script>
    <script type="text/javascript" src="../../../R_static/underscore.js"></script>
    <script type="text/javascript" src="../../../R_static/doctools.js"></script>
    <script type="text/javascript" src="../../../R_static/js/copybutton.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" >
    <link rel="top" title="Trusted Analytics Platform 0.6.0 documentation" href="../../../index.html" >
    <link rel="up" title="Frames EdgeFrame" href="index.html" >
    <link rel="next" title="EdgeFrame column_names" href="column_names.html" >
    <link rel="prev" title="EdgeFrame column_median" href="column_median.html" > 
  </head>
  <body>

  <div class="container">
    <div class="header">
    </div>
  </div>


    <div class="container">
      <div class="main">
        
	<div class="row-fluid">
	  <div class="span12">
	    <div class="spc-navbar">
              
    <ul class="nav nav-pills pull-left">
	
        <li class="active"><a href="../../../index.html">Trusted Analytics</a></li>
	
          <li class="active"><a href="../../index.html" >Python API</a></li>
          <li class="active"><a href="../index.html" >Frames</a></li>
          <li class="active"><a href="index.html" accesskey="U"><code class="docutils literal"><span class="pre">Frames</span></code> EdgeFrame</a></li> 
    </ul>
              
              
    <ul class="nav nav-pills pull-right">
      <li class="active">
        <a href="column_median.html" title="EdgeFrame column_median"
           accesskey="P">previous</a>
      </li>
      <li class="active">
        <a href="column_names.html" title="EdgeFrame column_names"
           accesskey="N">next</a>
      </li>
      <li class="active">
        <a href="../../../genindex.html" title="General Index"
           accesskey="I">index</a>
      </li>
    </ul>
              
	    </div>
	  </div>
	</div>
        

	<div class="row-fluid">
      <div class="spc-rightsidebar span3">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
<h3><a href="../../../index.html">Table Of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../intro.html">Technical Summary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ds_over.html">User Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dev_over.html">Extending Trusted Analytics Platform</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ad_over.html">Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Python API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../rest_api/v1/index.html">REST API</a></li>
</ul>
<ul class="simple">
</ul>

        </div>
      </div>
          <div class="span9">
            
        <div class="bodywrapper">
          <div class="body" id="spc-section-body">
            
  <div class="section" id="edgeframe-column-mode">
<h1><a class="reference internal" href="index.html"><span class="doc">EdgeFrame</span></a>  column_mode<a class="headerlink" href="#edgeframe-column-mode" title="Permalink to this headline">¶</a></h1>
<hr class="docutils" />
<dl class="function">
<dt id="column_mode">
<code class="descname">column_mode</code><span class="sig-paren">(</span><em>self</em>, <em>data_column</em>, <em>weights_column=None</em>, <em>max_modes_returned=None</em><span class="sig-paren">)</span><a class="headerlink" href="#column_mode" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate the weights assigned to rows.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>data_column</strong> : unicode</p>
<blockquote>
<div><p>Name of the column supplying the data.</p>
</div></blockquote>
<p><strong>weights_column</strong> : unicode (default=None)</p>
<blockquote>
<div><p>Name of the column supplying the weights.
Default is all items have weight of 1.</p>
</div></blockquote>
<p><strong>max_modes_returned</strong> : int32 (default=None)</p>
<blockquote>
<div><p>Maximum number of modes returned.
Default is 1.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">: dict</p>
<blockquote class="last">
<div><dl class="docutils">
<dt>Dictionary containing summary statistics.</dt>
<dd><p class="first last">The data returned is composed of multiple components:</p>
</dd>
<dt>mode</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">A mode is a data element of maximum net weight.</span><dd><p class="first last">A set of modes is returned.
The empty set is returned when the sum of the weights is 0.
If the number of modes is less than or equal to the parameter
max_modes_returned, then all modes of the data are
returned.
If the number of modes is greater than the max_modes_returned
parameter, only the first max_modes_returned many modes (per a
canonical ordering) are returned.</p>
</dd>
<dt>weight_of_mode</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">Weight of a mode.</span><dd><p class="first last">If there are no data elements of finite weight greater than 0,
the weight of the mode is 0.
If no weights column is given, this is the number of appearances
of each mode.</p>
</dd>
<dt>total_weight</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">Sum of all weights in the weight column.</span><dd><p class="first last">This is the row count if no weights are given.
If no weights column is given, this is the number of rows in
the table with non-zero weight.</p>
</dd>
<dt>mode_count</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">The number of distinct modes in the data.</span><dd><p class="first last">In the case that the data is very multimodal, this number may
exceed max_modes_returned.</p>
</dd>
</dl>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p>Calculate the modes of a column.
A mode is a data element of maximum weight.
All data elements of weight less than or equal to 0 are excluded from the
calculation, as are all data elements whose weight is NaN or infinite.
If there are no data elements of finite weight greater than 0,
no mode is returned.</p>
<p>Because data distributions often have multiple modes, it is possible for a
set of modes to be returned.
By default, only one is returned, but by setting the optional parameter
max_modes_returned, a larger number of modes can be returned.</p>
<p class="rubric">Examples</p>
<p>Given a frame with column &#8216;a&#8217; accessed by a Frame object &#8216;my_frame&#8217;:</p>
<div class="code highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">trustedanalytics</span> <span class="k">as</span> <span class="nn">ta</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ta</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
<span class="go">Connected ...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">2</span><span class="p">],[</span><span class="mi">3</span><span class="p">],[</span><span class="mi">3</span><span class="p">],[</span><span class="mi">5</span><span class="p">],[</span><span class="mi">7</span><span class="p">],[</span><span class="mi">10</span><span class="p">],[</span><span class="mi">30</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">schema</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">ta</span><span class="o">.</span><span class="n">int32</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_frame</span> <span class="o">=</span> <span class="n">ta</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">ta</span><span class="o">.</span><span class="n">UploadRows</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">schema</span><span class="p">))</span>
<span class="go">[===Job Progress===]</span>
</pre></div>
</div>
<p>Inspect my_frame</p>
<div class="code highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">my_frame</span><span class="o">.</span><span class="n">inspect</span><span class="p">()</span>
<span class="go">[#]  a</span>
<span class="go">=======</span>
<span class="go">[0]   2</span>
<span class="go">[1]   3</span>
<span class="go">[2]   3</span>
<span class="go">[3]   5</span>
<span class="go">[4]   7</span>
<span class="go">[5]  10</span>
<span class="go">[6]  30</span>
</pre></div>
</div>
<p>Compute and return a dictionary containing summary statistics of column <em>a</em>:</p>
<div class="code highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mode</span> <span class="o">=</span> <span class="n">my_frame</span><span class="o">.</span><span class="n">column_mode</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="go">[===Job Progress===]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">mode</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
<span class="go">[(u&#39;mode_count&#39;, 1), (u&#39;modes&#39;, [3]), (u&#39;total_weight&#39;, 7.0), (u&#39;weight_of_mode&#39;, 2.0)]</span>
</pre></div>
</div>
<p>Given a frame with column &#8216;a&#8217; and column &#8216;w&#8217; as weights accessed by a Frame object &#8216;my_frame&#8217;:</p>
<div class="code highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">2</span><span class="p">,</span><span class="mf">1.7</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mf">0.5</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mf">1.2</span><span class="p">],[</span><span class="mi">5</span><span class="p">,</span><span class="mf">0.8</span><span class="p">],[</span><span class="mi">7</span><span class="p">,</span><span class="mf">1.1</span><span class="p">],[</span><span class="mi">10</span><span class="p">,</span><span class="mf">0.8</span><span class="p">],[</span><span class="mi">30</span><span class="p">,</span><span class="mf">0.1</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">schema</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">ta</span><span class="o">.</span><span class="n">int32</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">ta</span><span class="o">.</span><span class="n">float32</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_frame</span> <span class="o">=</span> <span class="n">ta</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">ta</span><span class="o">.</span><span class="n">UploadRows</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">schema</span><span class="p">))</span>
<span class="go">[===Job Progress===]</span>
</pre></div>
</div>
<p>Inspect my_frame</p>
<div class="code highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">my_frame</span><span class="o">.</span><span class="n">inspect</span><span class="p">()</span>
<span class="go">[#]  a   w</span>
<span class="go">=======================</span>
<span class="go">[0]   2   1.70000004768</span>
<span class="go">[1]   3             0.5</span>
<span class="go">[2]   3   1.20000004768</span>
<span class="go">[3]   5  0.800000011921</span>
<span class="go">[4]   7   1.10000002384</span>
<span class="go">[5]  10  0.800000011921</span>
<span class="go">[6]  30   0.10000000149</span>
</pre></div>
</div>
<p>Compute and return dictionary containing summary statistics of column &#8216;a&#8217; with weights &#8216;w&#8217;:</p>
<div class="code highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mode</span> <span class="o">=</span> <span class="n">my_frame</span><span class="o">.</span><span class="n">column_mode</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">weights_column</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
<span class="go">[===Job Progress===]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">mode</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
<span class="go">[(u&#39;mode_count&#39;, 2), (u&#39;modes&#39;, [2]), (u&#39;total_weight&#39;, 6.200000144541264), (u&#39;weight_of_mode&#39;, 1.7000000476837158)]</span>
</pre></div>
</div>
</dd></dl>

</div>


          </div>
        </div>
          </div>
        </div>
      </div>
    </div>

    <div class="container container-navbar-bottom">
      <div class="spc-navbar">
        
      </div>
    </div>
    <div class="container">
    <div class="footer">
    <div class="row-fluid">
    <ul class="inline pull-left">
      <li>
        &copy; Copyright 2015, Intel.
      </li>
      <li>
      Last updated on Jul 29, 2016.
      </li>
    </ul>
    </div>
    </div>
    </div>
  </body>
</html>